import{a as f}from"./axios-L6U4YIEh.js";import{_ as u,o as s,c as n,a as e,n as _,g as p,F as g,i as h,t as r,d as P,b as k,r as v}from"./index-Zc3DlZLd.js";const x={props:["pages"],methods:{updatePage(c){this.$emit("emitPages",c)}}},$={"aria-label":"Page navigation example"},b={class:"pagination justify-content-center"},y=e("span",{"aria-hidden":"true"},"«",-1),E=[y],C={key:0,class:"page-link"},V=["onClick"],T=e("span",{"aria-hidden":"true"},"»",-1),w=[T];function R(c,o,t,m,l,d){return s(),n("nav",$,[e("ul",b,[e("li",{class:_([{disabled:!t.pages.has_pre},"page-item"])},[e("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:o[0]||(o[0]=p(a=>d.updatePage(t.pages.current_page-1),["prevent"]))},E)],2),(s(!0),n(g,null,h(t.pages.total_pages,a=>(s(),n("li",{class:_(["page-item",{active:t.pages.current_page===a}]),key:a},[a===t.pages.current_page?(s(),n("span",C,r(a),1)):(s(),n("a",{key:1,class:"page-link",href:"#",onClick:p(i=>d.updatePage(a),["prevent"])},r(a),9,V))],2))),128)),e("li",{class:_(["page-item",{disabled:!t.pages.has_next}])},[e("a",{class:"page-link",href:"#","aria-label":"Next",onClick:o[1]||(o[1]=p(a=>d.updatePage(t.pages.current_page+1),["prevent"]))},w)],2)])])}const B=u(x,[["render",R]]);var D={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"vuejs",BASE_URL:"/undefined/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:I,VITE_PATH:L}=D,N={props:["token"],data(){return{products:[],pagination:{}}},components:{PaginationComponent:B},methods:{getProducts(c=1){const o=`${I}/v2/api/${L}/admin/products?page=${c}`;f.get(o).then(t=>{this.products=t.data.products,this.pagination=t.data.pagination}).catch(t=>{alert(t.response.data.message)})}},mounted(){this.getProducts()}},S={class:"container"},A={class:"table mt-4"},U=e("thead",null,[e("tr",null,[e("th",{width:"120"},"分類"),e("th",null,"產品名稱"),e("th",{width:"120"},"原價"),e("th",{width:"120"},"售價"),e("th",{width:"100"},"是否啟用")])],-1),j={class:"text-end"},F={class:"text-end"},H={key:0,class:"text-success"},M={key:1};function O(c,o,t,m,l,d){const a=v("PaginationComponent");return s(),n("div",S,[P(" 這裡是 後台 產品列表 "),e("table",A,[U,e("tbody",null,[(s(!0),n(g,null,h(l.products,i=>(s(),n("tr",{key:i.id},[e("td",null,r(i.category),1),e("td",null,r(i.title),1),e("td",j,r(i.origin_price),1),e("td",F,r(i.price),1),e("td",null,[i.is_enabled?(s(),n("span",H,"啟用")):(s(),n("span",M,"未啟用"))])]))),128))])]),k(a,{pages:l.pagination,onEmitPages:d.getProducts},null,8,["pages","onEmitPages"])])}const G=u(N,[["render",O]]);export{G as default};
