import{a as u}from"./axios-L6U4YIEh.js";import{_ as g,o as a,c as n,a as e,n as _,j as p,F as h,i as m,t as r,b as P,r as v}from"./index-yAzQYw72.js";const f={props:["pages"],methods:{updatePage(o){this.$emit("emitPages",o)}}},$={"aria-label":"Page navigation example"},x={class:"pagination justify-content-center"},b=e("span",{"aria-hidden":"true"},"«",-1),y=[b],E={key:0,class:"page-link"},C=["onClick"],V=e("span",{"aria-hidden":"true"},"»",-1),T=[V];function w(o,i,t,k,l,d){return a(),n("nav",$,[e("ul",x,[e("li",{class:_([{disabled:!t.pages.has_pre},"page-item"])},[e("a",{class:"page-link","aria-label":"Previous",onClick:i[0]||(i[0]=p(s=>d.updatePage(t.pages.current_page-1),["prevent"]))},y)],2),(a(!0),n(h,null,m(t.pages.total_pages,s=>(a(),n("li",{class:_(["page-item",{active:t.pages.current_page===s}]),key:s},[s===t.pages.current_page?(a(),n("span",E,r(s),1)):(a(),n("a",{key:1,class:"page-link",onClick:p(c=>d.updatePage(s),["prevent"])},r(s),9,C))],2))),128)),e("li",{class:_(["page-item",{disabled:!t.pages.has_next}])},[e("a",{class:"page-link","aria-label":"Next",onClick:i[1]||(i[1]=p(s=>d.updatePage(t.pages.current_page+1),["prevent"]))},T)],2)])])}const R=g(f,[["render",w]]);var A={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"vuejs",BASE_URL:"/2023vueWeek6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:B,VITE_PATH:D}=A,I={props:["token"],data(){return{products:[],pagination:{}}},components:{PaginationComponent:R},methods:{getProducts(o=1){const i=`${B}/v2/api/${D}/admin/products?page=${o}`;u.get(i).then(t=>{this.products=t.data.products,this.pagination=t.data.pagination}).catch(t=>{alert(t.response.data.message)})}},mounted(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");u.defaults.headers.common.Authorization=o,this.getProducts()}},L={class:"mt-4"},S=e("h2",null,"這裡是 後台 產品列表",-1),j={class:"table mt-4"},N=e("thead",null,[e("tr",null,[e("th",{width:"120"},"分類"),e("th",null,"產品名稱"),e("th",{width:"120"},"原價"),e("th",{width:"120"},"售價"),e("th",{width:"100"},"是否啟用")])],-1),U={class:"text-end"},z={class:"text-end"},F={key:0,class:"text-success"},H={key:1};function M(o,i,t,k,l,d){const s=v("PaginationComponent");return a(),n("div",L,[S,e("table",j,[N,e("tbody",null,[(a(!0),n(h,null,m(l.products,c=>(a(),n("tr",{key:c.id},[e("td",null,r(c.category),1),e("td",null,r(c.title),1),e("td",U,r(c.origin_price),1),e("td",z,r(c.price),1),e("td",null,[c.is_enabled?(a(),n("span",F,"啟用")):(a(),n("span",H,"未啟用"))])]))),128))])]),P(s,{pages:l.pagination,onEmitPages:d.getProducts},null,8,["pages","onEmitPages"])])}const q=g(I,[["render",M]]);export{q as default};
